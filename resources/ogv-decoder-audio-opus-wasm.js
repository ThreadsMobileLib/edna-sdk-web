var OGVDecoderAudioOpusW=(()=>{var e="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;return"undefined"!=typeof __filename&&(e=e||__filename),function(n){var r,t,o;n=n||{},r||(r=void 0!==n?n:{}),r.ready=new Promise((function(e,n){t=e,o=n}));var i,a,u,s,f,c,d=r,l=Object.assign({},r),p="object"==typeof window,m="function"==typeof importScripts,y="";"object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node?(y=m?require("path").dirname(y)+"/":__dirname+"/",c=()=>{f||(s=require("fs"),f=require("path"))},i=function(e,n){return c(),e=f.normalize(e),s.readFileSync(e,n?void 0:"utf8")},u=e=>((e=i(e,!0)).buffer||(e=new Uint8Array(e)),e),a=(e,n,r)=>{c(),e=f.normalize(e),s.readFile(e,(function(e,t){e?r(e):n(t.buffer)}))},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("unhandledRejection",(function(e){throw e})),r.inspect=function(){return"[Emscripten Module object]"}):(p||m)&&(m?y=self.location.href:"undefined"!=typeof document&&document.currentScript&&(y=document.currentScript.src),e&&(y=e),y=0!==y.indexOf("blob:")?y.substr(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=e=>{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(null),n.responseText},m&&(u=e=>{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),a=(e,n,r)=>{var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=()=>{200==t.status||0==t.status&&t.response?n(t.response):r()},t.onerror=r,t.send(null)});var _,v=r.print||console.log.bind(console),h=r.printErr||console.warn.bind(console);Object.assign(r,l),l=null,r.wasmBinary&&(_=r.wasmBinary);r.noExitRuntime;"object"!=typeof WebAssembly&&H("no native wasm support detected");var b,w,g,A,R=!1,S="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function W(){var e=b.buffer;w=e,r.HEAP8=new Int8Array(e),r.HEAP16=new Int16Array(e),r.HEAP32=A=new Int32Array(e),r.HEAPU8=g=new Uint8Array(e),r.HEAPU16=new Uint16Array(e),r.HEAPU32=new Uint32Array(e),r.HEAPF32=new Float32Array(e),r.HEAPF64=new Float64Array(e)}var E,O=[],F=[],I=[];function U(){var e=r.preRun.shift();O.unshift(e)}var j,T=0,x=null,D=null;function H(e){throw r.onAbort&&r.onAbort(e),h(e="Aborted("+e+")"),R=!0,e=new WebAssembly.RuntimeError(e+". Build with -s ASSERTIONS=1 for more info."),o(e),e}function P(){return j.startsWith("data:application/octet-stream;base64,")}if(r.preloadedImages={},r.preloadedAudios={},j="ogv-decoder-audio-opus-wasm.wasm",!P()){var M=j;j=r.locateFile?r.locateFile(M,y):y+M}function C(){var e=j;try{if(e==j&&_)return new Uint8Array(_);if(u)return u(e);throw"both async and sync fetching of the wasm failed"}catch(e){H(e)}}function G(e){for(;0<e.length;){var n=e.shift();if("function"==typeof n)n(r);else{var t=n.u;"number"==typeof t?void 0===n.s?B(t)():B(t)(n.s):t(void 0===n.s?null:n.s)}}}var q=[];function B(e){var n=q[e];return n||(e>=q.length&&(q.length=e+1),q[e]=n=E.get(e)),n}var L,k,V,z,N=[null,[],[]],X={f:function(){H("")},e:function(e,n,r){g.copyWithin(e,n,n+r)},c:function(e){var n=g.length;if(2147483648<(e>>>=0))return!1;for(var r=1;4>=r;r*=2){var t=n*(1+.2/r);t=Math.min(t,e+100663296);var o=Math;t=Math.max(e,t),o=o.min.call(o,2147483648,t+(65536-t%65536)%65536);e:{try{b.grow(o-w.byteLength+65535>>>16),W();var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1},d:function(){return 0},b:function(){},a:function(e,n,r,t){for(var o=0,i=0;i<r;i++){var a=A[n>>2],u=A[n+4>>2];n+=8;for(var s=0;s<u;s++){var f=g[a+s],c=N[e];if(0===f||10===f){f=1===e?v:h;for(var d=c,l=0,p=l+NaN,m=l;d[m]&&!(m>=p);)++m;if(16<m-l&&d.buffer&&S)d=S.decode(d.subarray(l,m));else{for(p="";l<m;){var y=d[l++];if(128&y){var _=63&d[l++];if(192==(224&y))p+=String.fromCharCode((31&y)<<6|_);else{var b=63&d[l++];65536>(y=224==(240&y)?(15&y)<<12|_<<6|b:(7&y)<<18|_<<12|b<<6|63&d[l++])?p+=String.fromCharCode(y):(y-=65536,p+=String.fromCharCode(55296|y>>10,56320|1023&y))}}else p+=String.fromCharCode(y)}d=p}f(d),c.length=0}else c.push(f)}o+=u}return A[t>>2]=o,0},g:function(e,n,t){var o=b.buffer,i=new Uint32Array(o,e,n),a=[];if(0!==e)for(e=0;e<n;e++){var u=i[e];o.slice?(u=o.slice(u,u+4*t),u=new Float32Array(u)):(u=new Float32Array(o,u,t),u=new Float32Array(u)),a.push(u)}r.audioBuffer=a},h:function(e,n){r.audioFormat={channels:e,rate:n},r.loadedMetadata=!0}};function J(){function e(){if(!L&&(L=!0,r.calledRun=!0,!R)){if(G(F),t(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;){var e=r.postRun.shift();I.unshift(e)}G(I)}}if(!(0<T)){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)U();G(O),0<T||(r.setStatus?(r.setStatus("Running..."),setTimeout((function(){setTimeout((function(){r.setStatus("")}),1),e()}),1)):e())}}if(function(){function e(e){r.asm=e.exports,b=r.asm.i,W(),E=r.asm.q,F.unshift(r.asm.j),T--,r.monitorRunDependencies&&r.monitorRunDependencies(T),0==T&&(null!==x&&(clearInterval(x),x=null),D&&(e=D,D=null,e()))}function n(n){e(n.instance)}function t(e){return function(){if(!_&&(p||m)){if("function"==typeof fetch&&!j.startsWith("file://"))return fetch(j,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+j+"'";return e.arrayBuffer()})).catch((function(){return C()}));if(a)return new Promise((function(e,n){a(j,(function(n){e(new Uint8Array(n))}),n)}))}return Promise.resolve().then((function(){return C()}))}().then((function(e){return WebAssembly.instantiate(e,i)})).then((function(e){return e})).then(e,(function(e){h("failed to asynchronously prepare wasm: "+e),H(e)}))}var i={a:X};if(T++,r.monitorRunDependencies&&r.monitorRunDependencies(T),r.instantiateWasm)try{return r.instantiateWasm(i,e)}catch(e){return h("Module.instantiateWasm callback failed with error: "+e),!1}(_||"function"!=typeof WebAssembly.instantiateStreaming||P()||j.startsWith("file://")||"function"!=typeof fetch?t(n):fetch(j,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,i).then(n,(function(e){return h("wasm streaming compile failed: "+e),h("falling back to ArrayBuffer instantiation"),t(n)}))}))).catch(o)}(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.j).apply(null,arguments)},r._ogv_audio_decoder_init=function(){return(r._ogv_audio_decoder_init=r.asm.k).apply(null,arguments)},r._ogv_audio_decoder_process_header=function(){return(r._ogv_audio_decoder_process_header=r.asm.l).apply(null,arguments)},r._ogv_audio_decoder_process_audio=function(){return(r._ogv_audio_decoder_process_audio=r.asm.m).apply(null,arguments)},r._malloc=function(){return(r._malloc=r.asm.n).apply(null,arguments)},r._free=function(){return(r._free=r.asm.o).apply(null,arguments)},r._ogv_audio_decoder_destroy=function(){return(r._ogv_audio_decoder_destroy=r.asm.p).apply(null,arguments)},D=function e(){L||J(),L||(D=e)},r.run=J,r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);0<r.preInit.length;)r.preInit.pop()();function K(e){return k&&V>=e?k:(k&&r._free(k),V=e,k=r._malloc(V))}function Q(e){var n=z();return e=e(),r.cpuTime+=z()-n,e}return J(),z="undefined"==typeof performance||void 0===performance.now?Date.now:performance.now.bind(performance),r.loadedMetadata=!!d.audioFormat,r.audioFormat=d.audioFormat||null,r.audioBuffer=null,r.cpuTime=0,Object.defineProperty(r,"processing",{get:function(){return!1}}),r.init=function(e){Q((function(){r._ogv_audio_decoder_init()})),e()},r.processHeader=function(e,n){n(Q((function(){var n=e.byteLength,t=K(n);return new Uint8Array(b.buffer,t,n).set(new Uint8Array(e)),r._ogv_audio_decoder_process_header(t,n)})))},r.processAudio=function(e,n){n(Q((function(){var n=e.byteLength,t=K(n);return new Uint8Array(b.buffer,t,n).set(new Uint8Array(e)),r._ogv_audio_decoder_process_audio(t,n)})))},r.close=function(){},n.ready}})();"object"==typeof exports&&"object"==typeof module?module.exports=OGVDecoderAudioOpusW:"function"==typeof define&&define.amd?define([],(function(){return OGVDecoderAudioOpusW})):"object"==typeof exports&&(exports.OGVDecoderAudioOpusW=OGVDecoderAudioOpusW);